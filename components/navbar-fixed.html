<!-- Navigation -->
<nav class="fixed top-0 left-0 right-0 z-50 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm shadow-sm transition-all duration-300" id="main-nav">
    <div class="container mx-auto px-6">
        <div class="flex items-center justify-between h-20">
            <!-- Logo -->
            <div class="flex items-center">
                <a href="index.html" class="flex items-center space-x-2 text-2xl font-bold text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-300">
                    <i class="fas fa-code text-2xl"></i>
                    <span>我的博客</span>
                </a>
            </div>

            <!-- Desktop Navigation -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="index.html" class="nav-link flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300">
                    <i class="fas fa-home w-5 text-center"></i>
                    <span>首页</span>
                </a>
                <a href="about.html" class="nav-link flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300">
                    <i class="fas fa-user w-5 text-center"></i>
                    <span>关于</span>
                </a>
                <a href="blog.html" class="nav-link flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300">
                    <i class="fas fa-blog w-5 text-center"></i>
                    <span>博客</span>
                </a>
                <a href="portfolio.html" class="nav-link flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300">
                    <i class="fas fa-briefcase w-5 text-center"></i>
                    <span>作品集</span>
                </a>
                <a href="gallery.html" class="nav-link flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300">
                    <i class="fas fa-images w-5 text-center"></i>
                    <span>相册</span>
                </a>
                <a href="contact.html" class="nav-link flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300">
                    <i class="fas fa-envelope w-5 text-center"></i>
                    <span>联系</span>
                </a>
            </div>

            <!-- Mobile Menu Button -->
            <div class="flex md:hidden">
                <button id="mobile-menu-button" class="md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="md:hidden absolute top-20 left-0 right-0 bg-white dark:bg-gray-800 shadow-lg opacity-0 invisible transition-all duration-300">
        <div class="container mx-auto px-6 py-4">
            <div class="flex flex-col space-y-4">
                <a href="index.html" class="mobile-nav-link flex items-center space-x-3 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors duration-300">
                    <i class="fas fa-home w-6 text-center"></i>
                    <span>首页</span>
                </a>
                <a href="about.html" class="mobile-nav-link flex items-center space-x-3 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors duration-300">
                    <i class="fas fa-user w-6 text-center"></i>
                    <span>关于</span>
                </a>
                <a href="blog.html" class="mobile-nav-link flex items-center space-x-3 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors duration-300">
                    <i class="fas fa-blog w-6 text-center"></i>
                    <span>博客</span>
                </a>
                <a href="portfolio.html" class="mobile-nav-link flex items-center space-x-3 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors duration-300">
                    <i class="fas fa-briefcase w-6 text-center"></i>
                    <span>作品集</span>
                </a>
                <a href="gallery.html" class="mobile-nav-link flex items-center space-x-3 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors duration-300">
                    <i class="fas fa-images w-6 text-center"></i>
                    <span>相册</span>
                </a>
                <a href="contact.html" class="mobile-nav-link flex items-center space-x-3 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors duration-300">
                    <i class="fas fa-envelope w-6 text-center"></i>
                    <span>联系</span>
                </a>
            </div>
        </div>
    </div>
</nav>

<style>
/* 导航链接样式 */
.nav-link, .mobile-nav-link {
    position: relative;
    padding: 0.5rem 0;
    font-weight: 500;
}

.nav-link::after, .mobile-nav-link::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: currentColor;
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.3s ease;
}

.nav-link:hover::after, .mobile-nav-link:hover::after {
    transform: scaleX(1);
    transform-origin: left;
}

.nav-link.active, .mobile-nav-link.active {
    color: theme('colors.blue.600');
    background-color: theme('colors.blue.50');
}

.nav-link.active::after, .mobile-nav-link.active::after {
    transform: scaleX(1);
    background-color: theme('colors.blue.600');
}

/* 暗色模式下的导航链接样式 */
.dark .nav-link.active, .dark .mobile-nav-link.active {
    color: theme('colors.blue.400');
    background-color: theme('colors.blue.900/20');
}

.dark .nav-link.active::after, .dark .mobile-nav-link.active::after {
    background-color: theme('colors.blue.400');
}

/* 移动菜单动画 */
#mobile-menu {
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
}

#mobile-menu.show {
    opacity: 1;
    visibility: visible;
}

#mobile-menu.hide {
    opacity: 0;
    visibility: hidden;
}

/* 滚动时导航栏样式 */
.navbar-scrolled {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(8px);
}

.dark .navbar-scrolled {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* 移动菜单项样式 */
.mobile-nav-link {
    padding: 0.75rem 1rem;
}

/* 图标样式 */
.nav-link i, .mobile-nav-link i {
    transition: transform 0.3s ease;
}

.nav-link:hover i, .mobile-nav-link:hover i {
    transform: scale(1.1);
}

/* 活动链接图标样式 */
.nav-link.active i, .mobile-nav-link.active i {
    transform: scale(1.1);
    color: currentColor;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('导航栏组件加载完成');
    
    const navbar = document.getElementById('main-nav');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    
    console.log('导航栏元素：', {
        'navbar存在': !!navbar,
        'mobileMenuButton存在': !!mobileMenuButton,
        'mobileMenu存在': !!mobileMenu
    });

    // 处理滚动事件
    window.addEventListener('scroll', function() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > 0) {
            navbar.classList.add('navbar-scrolled');
        } else {
            navbar.classList.remove('navbar-scrolled');
        }
    });

    // 处理移动菜单
    if (mobileMenuButton && mobileMenu) {
        console.log('设置移动菜单按钮点击事件');
        
        mobileMenuButton.addEventListener('click', function(e) {
            console.log('移动菜单按钮被点击');
            e.preventDefault();
            
            if (mobileMenu.classList.contains('show')) {
                console.log('隐藏移动菜单');
                mobileMenu.classList.remove('show');
                mobileMenu.classList.add('hide');
            } else {
                console.log('显示移动菜单');
                mobileMenu.classList.remove('hide');
                mobileMenu.classList.add('show');
            }
        });

        // 点击菜单项时关闭移动菜单
        document.querySelectorAll('.mobile-nav-link').forEach(link => {
            link.addEventListener('click', function() {
                mobileMenu.classList.remove('show');
                mobileMenu.classList.add('hide');
            });
        });

        // 点击页面其他地方时关闭菜单
        document.addEventListener('click', function(e) {
            if (!mobileMenu.contains(e.target) && !mobileMenuButton.contains(e.target)) {
                mobileMenu.classList.remove('show');
                mobileMenu.classList.add('hide');
            }
        });
    } else {
        console.error('移动菜单按钮或移动菜单未找到');
    }

    // 设置当前活动链接
    const currentPath = window.location.pathname;
    document.querySelectorAll('.nav-link, .mobile-nav-link').forEach(link => {
        if (link.getAttribute('href') === currentPath) {
            link.classList.add('active');
        }
    });
});
</script> 